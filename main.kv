#: import SoundLoader __main__.SoundLoader
#: import SlideTransition __main__.SlideTransition
#: import sys __main__.sys

####################
#  Default Button  #
####################
<DfltButton@Button>
    size_hint: .1, .1
    on_release: SoundLoader.load('Untitled 2.wav').play()
    text_size: (self.width, None)
    halign: 'center'

####################
#  Location Toggle #
####################

<LocationToggle@CheckBox>:
    size_hint: 0.02, 0.02
    background_radio_normal: 'Location_Off.png'
    background_radio_down: 'Location_On.png'
    group: "location"

####################
#  Default Label  #
####################
<DfltLabel@Label>
    text_size: self.size
    halign: 'left'
    valign: 'middle'

####################
#Whole Bottom Menu #
####################

<Bottom_Menu@FloatLayout>
    DfltButton:
        text: 'Map'
        pos_hint: {'x':.0, 'y': .0}
        on_release: self.parent.parent.parent.current = 'mapScreen' #ref to ScreenManager
    DfltButton:
        text: 'Stations'
        pos_hint: {'x':.1, 'y': .0}
        on_release: self.parent.parent.parent.current = 'stationsScreen' #ref to ScreenManager

    DfltButton:
        text: 'Conections'
        pos_hint: {'x':.2, 'y': .0}
        on_release: self.parent.parent.parent.current = 'connectionsScreen' #ref to ScreenManager

    DfltButton:
        text: 'Finances'
        pos_hint: {'x':.3, 'y': .0}
        on_release: self.parent.parent.parent.current = 'financesScreen' #ref to ScreenManager

    DfltButton:
        text: 'Research'
        pos_hint: {'x':.4, 'y': .0}
        on_release: self.parent.parent.parent.current = 'researchScreen' #ref to ScreenManager

    DfltButton:
        text: 'Production'
        pos_hint: {'x':.5, 'y': .0}
        on_release: self.parent.parent.parent.current = 'productionScreen' #ref to ScreenManager

    DfltButton:
        text: 'Button 7'
        pos_hint: {'x':.6, 'y': .0}

    DfltButton:
        text: 'Button 8'
        pos_hint: {'x':.7, 'y': .0}

    DfltButton:
        text: 'Setting'
        pos_hint: {'x':.8, 'y': .0}

    DfltButton:
        text: 'Quit'
        pos_hint: {'x':.9, 'y': .0}
        on_release: sys.exit(0)

####################
#      Stats Bar   #
####################
<Stats_Bar@FloatLayout>
    DfltLabel:
        id: cashStr
        size_hint: .4, .03
        pos_hint: {'x':.0, 'y': .97}
        text: app.cashStr
    DfltLabel:
        id: dateStr
        size_hint: .4, .03
        pos_hint: {'x':.9, 'y': .97}
        text: app.dateStr


        


####################
# Stations Screen  #
####################

<StationsScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        id: map
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'stations.png'

    LocationToggle:
        pos: dp(10), dp(10)





####################
#    Map Screen    #
####################


<MapScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'map.png'

##########################
#    Connections Screen  #
##########################

<ConnectionsScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'map1.png'

##########################
#    Financies Screen  #
##########################

<FinancesScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1
    Widget:
        size_hint: .5, .5

        pos_hint: {'x':0, 'y': .5}
        canvas:
            Color:
                rgb: 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

##########################
#    Production Screen   #
##########################

<ProductionScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    DfltButton:
        size_hint: 0.2, 0.3
        pos_hint: {'x':.1, 'y': .4}
        text: 'Drug Production'
        on_release: root.parent.current = 'drugProductionScreen' #ref to ScreenManager

    DfltButton:
        size_hint: 0.2, 0.3
        pos_hint: {'x':.4, 'y': .4}
        text: 'Organic Production'
        on_release: root.parent.current = 'organicProductionScreen' #ref to ScreenManager

    DfltButton:
        size_hint: 0.2, 0.3
        pos_hint: {'x':.7, 'y': .4}
        text: 'Unorganic Production'
        on_release: self.parent.parent.parent.current = 'drugProductionScreen' #ref to ScreenManager

##########################
# Drug Production Screen #
##########################

<DrugProductionScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    DfltButton:
        text: 'up4'
        pos_hint: {'x':.1, 'y': .20}
        size_hint: 0.2, 0.2
        #on_release: app.incomeUp(1000, 5)

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.4, 'y': .20}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.7, 'y': .20}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.1, 'y': .45}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.4, 'y': .45}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.7, 'y': .45}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Marijuana Farm Patch \n 1000\u20ac \n Income: +25\u20ac/s'
        pos_hint: {'x':.1, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.incomeUp(1000, 15)

    DfltButton:
        text: 'Shroom Farm \n 2000\u20ac \n Income: +65\u20ac/s'
        pos_hint: {'x':.4, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.incomeUp(2000, 40)

    DfltButton:
        text: 'Heroin Lab \n 5000\u20ac \n Income: +200\u20ac/s'
        pos_hint: {'x':.7, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.incomeUp(5000, 100)

#############################
# Organic Production Screen #
#############################

<OrganicProductionScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    DfltButton:
        text: 'up4'
        pos_hint: {'x':.1, 'y': .20}
        size_hint: 0.2, 0.2
        #on_release: app.incomeUp(1000, 5)

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.4, 'y': .20}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.7, 'y': .20}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.1, 'y': .45}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.4, 'y': .45}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.7, 'y': .45}
        size_hint: 0.2, 0.2

    DfltButton:
        text: 'Stomach Stealing \n 7000\u20ac \n Income: +75\u20ac/s'
        pos_hint: {'x':.1, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.incomeUp(7000, 150)

    DfltButton:
        text: ' '
        pos_hint: {'x':.4, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.incomeUp(2000, 15)

    DfltButton:
        text: ' '
        pos_hint: {'x':.7, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.incomeUp(5000, 50)

##########################
#    Research Screen     #
##########################

<ResearchScreen@Screen>
    size_hint: 1, 1
    Image:
        source: 'tiled.png'
    DfltButton:
        text: 'Upgrade_1-2'
        pos_hint: {'x':1.2, 'y': 1.2}
        id: up1-2
    DfltButton:
        text: 'Ecstacy\n 0\u20ac'
        pos_hint: {'x':.275, 'y': .2}
        id: up4-1
    DfltButton:
        text: 'LSD\n 10000\u20ac'
        pos_hint: {'x':.275, 'y': .7}
        id: up1-1
        #on_press: parent.up1-2.pos_hint{'x':.225, 'y': .7.5}
    DfltButton:
        text: 'Marijuana\n 20\u20ac'
        pos_hint: {'x':.2, 'y': .35}
        id: up2-1
    DfltButton:
        text: 'Cocaine\n 100\u20ac'
        pos_hint: {'x':.2, 'y': .55}
        id: up3-1
    DfltButton:
        text: 'Ketamine\n 1000\u20ac'
        pos_hint: {'x':.7, 'y': .35}
        id: up7-1
    DfltButton:
        text: 'Heroin\n 200\u20ac'
        pos_hint: {'x':.7, 'y': .55}
        id: up6-1
    DfltButton:
        text: 'Shrooms\n 50\u20ac'
        pos_hint: {'x':.625, 'y': .2}
        id: up8-1
    DfltButton:
        text: 'Antidepressants\n 200\u20ac'
        size_hint: .14, .1
        pos_hint: {'x':.625, 'y': .7}
        id: up5-1
    DfltButton:
        text: 'Amphetamine\n 150\u20ac'
        size_hint: .14, .1
        pos_hint: {'x':.45, 'y': .1}
        id: OP1-1
    DfltButton:
        text: 'Steroids\n 2000\u20ac'
        pos_hint: {'x':.45, 'y': .8}
        id: OP2-1
    DfltButton:
        text: 'Connection lvl 2 \n 2000\u20ac'
        pos_hint: {'x':.45, 'y': .6}
        id: OP2-1
    DfltButton:
        text: 'Steroids 4 workers\n 2000\u20ac'
        pos_hint: {'x':.45, 'y': .8}
        on_release: app.ModDisable(0.05,2000)
        id: OP2-1
    DfltButton:
        id: BackToMap
        text: '<<<'
        pos_hint: {'x':.0, 'y': .0}
        on_release: self.parent.parent.current = 'mapScreen' #ref to ScreenManager
        #Or whatever is the previous screen

    Stats_Bar:
        size_hint: 1, 1

#################################
# Root Widget & ScreenManager   #
#################################

<RootWidget>
    size_hint: 1, 1
    ScreenManager:
        transition: SlideTransition()
        MapScreen:
            name: 'mapScreen'
        StationsScreen:
            name: 'stationsScreen'
        ConnectionsScreen:
            name: 'connectionsScreen'
        ResearchScreen
            name: 'researchScreen'
        FinancesScreen:
            name: 'financesScreen'
        ProductionScreen:
            name: 'productionScreen'
        DrugProductionScreen:
            name: 'drugProductionScreen'
        OrganicProductionScreen:
            name: 'organicProductionScreen'


