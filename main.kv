#: import SoundLoader __main__.SoundLoader
#: import NoTransition __main__.NoTransition
#: import sys __main__.sys
#

####################
#  Default Button  #
####################
<DfltButton@Button>
    size_hint: .1, .1
    on_press: SoundLoader.load('Untitled 2.wav').play()
    text_size: (self.width, None)
    halign: 'center'
    
####################
#  Default Label  #
####################
<DfltLabel@Label>
    text_size: self.size
    halign: 'left'
    valign: 'middle'

####################
#Whole Bottom Menu #
####################

<Bottom_Menu@FloatLayout>
    DfltButton:
        text: 'Map'
        pos_hint: {'x':.0, 'y': .0}
        on_press: self.parent.parent.parent.current = 'mapScreen' #ref to ScreenManager
    DfltButton:
        text: 'Stations'
        pos_hint: {'x':.1, 'y': .0}
        on_press: self.parent.parent.parent.current = 'stationsScreen' #ref to ScreenManager

    DfltButton:
        text: 'Finances'
        pos_hint: {'x':.2, 'y': .0}
        on_press: self.parent.parent.parent.current = 'financesScreen' #ref to ScreenManager

    DfltButton:
        text: 'Research'
        pos_hint: {'x':.3, 'y': .0}
        on_press: self.parent.parent.parent.current = 'researchScreen' #ref to ScreenManager

    DfltButton:
        text: 'Conections'
        pos_hint: {'x':.4, 'y': .0}
        on_press: self.parent.parent.parent.current = 'connectionsScreen' #ref to ScreenManager

    DfltButton:
        text: 'Button 6'
        pos_hint: {'x':.5, 'y': .0}

    DfltButton:
        text: 'Button 7'
        pos_hint: {'x':.6, 'y': .0}

    DfltButton:
        text: 'Button 8'
        pos_hint: {'x':.7, 'y': .0}

    DfltButton:
        text: 'Setting'
        pos_hint: {'x':.8, 'y': .0}

    DfltButton:
        text: 'Quit'
        pos_hint: {'x':.9, 'y': .0}
        on_press: sys.exit(0)

####################
#     Stats Bar   #
####################
<Stats_Bar@FloatLayout>
    DfltLabel:
        id: cashStr
        size_hint: .4, .02
        pos_hint: {'x':.0, 'y': .97}
        text: app.cashStr


        


####################
# Stations Screen  #
####################

<StationsScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'stations.png'

####################
#    Map Screen    #
####################


<MapScreen@Screen>
    size_hint: 1, 1
    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'map.png'

##########################
#    Connections Screen  #
##########################

<ConnectionsScreen@Screen>
    size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'connections.png'

##########################
#    Financies Screen  #
##########################

<FinancesScreen@Screen>
    size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1
    Widget:
        size_hint: .5, .5

        pos_hint: {'x':0, 'y': .5}
        canvas:
            Color:
                rgb: 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

##########################
#    Research Screen     #
##########################

<ResearchScreen@Screen>
    size_hint: 1, 1
    DfltButton:
        text: 'Upgrade_4'
        pos_hint: {'x':.275, 'y': .2}
    DfltButton:
        text: 'Upgrade_1'
        pos_hint: {'x':.275, 'y': .7}
    DfltButton:
        text: 'Upgrade_2'
        pos_hint: {'x':.2, 'y': .35}
    DfltButton:
        text: 'Upgrade_3'
        pos_hint: {'x':.2, 'y': .55}
    DfltButton:
        text: 'Upgrade_7'
        pos_hint: {'x':.7, 'y': .35}
    DfltButton:
        text: 'Upgrade_6'
        pos_hint: {'x':.7, 'y': .55}
    DfltButton:
        text: 'Upgrade_8'
        pos_hint: {'x':.625, 'y': .2}
    DfltButton:
        text: 'Upgrade_5'
        pos_hint: {'x':.625, 'y': .7}
    DfltButton:
        text: 'OP_Upgrade_1'
        pos_hint: {'x':.45, 'y': .1}
    DfltButton:
        text: 'OP_Upgrade_2'
        pos_hint: {'x':.45, 'y': .8}
    DfltButton:
        text: '<<<'
        pos_hint: {'x':.0, 'y': .0}
        on_press: self.parent.parent.current = 'mapScreen' #ref to ScreenManager
        #Or whatever is the previous screen



#################################
# Root Widget & ScreenManager   #
#################################

<RootWidget>
    size_hint: 1, 1
    ScreenManager
        transition: NoTransition()
        MapScreen:
            name: 'mapScreen'
        StationsScreen:
            name: 'stationsScreen'
        ConnectionsScreen:
            name: 'connectionsScreen'
        ResearchScreen
            name: 'researchScreen'
        FinancesScreen:
            name: 'financesScreen'


