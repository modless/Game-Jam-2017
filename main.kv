#: import SoundLoader __main__.SoundLoader
#: import SlideTransition __main__.SlideTransition
#: import sys __main__.sys

####################
#  Default Button  #
####################
<DfltButton@Button>
    size_hint: .1, .1
    on_release: SoundLoader.load('Untitled 2.wav').play()
    text_size: (self.width, None)
    halign: 'center'

####################
#  Location Toggle #
####################

<LocationToggle@CheckBox>:
    size_hint: 0.02, 0.02
    background_radio_normal: 'Location_Off.png'
    background_radio_down: 'Location_On.png'
    group: "location"

####################
#  Default Label  #
####################
<DfltLabel@Label>
    text_size: self.size
    halign: 'left'
    valign: 'middle'

####################
#Whole Bottom Menu #
####################

<Bottom_Menu@FloatLayout>
    DfltButton:
        text: 'Map'
        pos_hint: {'x':.0, 'y': .0}
        on_release: root.parent.parent.current = 'mapScreen' #ref to ScreenManager
    DfltButton:
        text: 'Stations'
        pos_hint: {'x':.1, 'y': .0}
        on_release: root.parent.parent.current = 'stationsScreen' #ref to ScreenManager

    DfltButton:
        text: 'Conections'
        pos_hint: {'x':.2, 'y': .0}
        on_release: self.parent.parent.parent.current = app.connStr #ref to ScreenManager

    DfltButton:
        text: 'Finances'
        pos_hint: {'x':.3, 'y': .0}
        on_release: root.parent.parent.current = 'financesScreen' #ref to ScreenManager

    DfltButton:
        text: 'Research'
        pos_hint: {'x':.4, 'y': .0}
        on_release: root.parent.parent.current = 'researchScreen' #ref to ScreenManager

    DfltButton:
        text: 'Production'
        pos_hint: {'x':.5, 'y': .0}
        on_release: root.parent.parent.current = 'productionScreen' #ref to ScreenManager

    DfltButton:
        text: 'Warehouse'
        pos_hint: {'x':.6, 'y': .0}
        on_release: root.parent.parent.current = 'warehouseScreen' #ref to ScreenManager
    DfltButton:
        text: 'Global Prices'
        pos_hint: {'x':.7, 'y': .0}
        on_release: root.parent.parent.current = 'pricesScreen' #ref to ScreenManager
        #on_release: app.PricesScreen


    DfltButton:
        text: 'Setting'
        pos_hint: {'x':.8, 'y': .0}

    DfltButton:
        text: 'Quit'
        pos_hint: {'x':.9, 'y': .0}
        on_release: sys.exit(0)

####################
#      Stats Bar   #
####################
<Stats_Bar@FloatLayout>
    DfltLabel:
        id: cashStr
        size_hint: .4, .03
        pos_hint: {'x':.0, 'y': .97}
        text: app.cashStr
    DfltLabel:
        id: dateStr
        size_hint: .4, .03
        pos_hint: {'x':.9, 'y': .97}
        text: app.dateStr
    DfltLabel:
        id: dateStr
        size_hint: .4, .03
        pos_hint: {'x':.7, 'y': .97}
        text: app.connStr


        


####################
# Stations Screen  #
####################

<StationsScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        id: map
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'stations.png'





####################
#    Map Screen    #
####################


<MapScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}
        source: 'map.png'

##########################
#    Connections Screen  #
##########################

<ConnectionsScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}

        source: 'map1.png'
<Connections2Screen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}

        source: 'map2.png'
<Connections3Screen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    Image:
        size_hint: .9, .85
        pos_hint: {'x':.0, 'y': .1}

        source: 'map3.png'

##########################
#    Finances Screen  #
##########################

<FinancesScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1
    #Widget:
        #size_hint: .5, .5

        #pos_hint: {'x':0, 'y': .5}
        #canvas:
            #Color:
                #rgb: 1, 1, 1
            #Rectangle:
                #pos: self.pos
                #size: self.size
    DfltLabel:
        text: app.cashlogSTR
        pos_hint: {'x':.0, 'y': .4}


##########################
#    Production Screen   #
##########################

<ProductionScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    DfltButton:
        size_hint: 0.2, 0.3
        pos_hint: {'x':.1, 'y': .4}
        text: 'Drug Production'
        on_release: root.parent.current = 'drugProductionScreen' #ref to ScreenManager

    DfltButton:
        size_hint: 0.2, 0.3
        pos_hint: {'x':.4, 'y': .4}
        text: 'Organs'
        on_release: root.parent.current = 'organicProductionScreen' #ref to ScreenManager

    DfltButton:
        size_hint: 0.2, 0.3
        pos_hint: {'x':.7, 'y': .4}
        text: 'Unorganic Production'
        disabled: 'true'
        on_release: self.parent.parent.parent.current = 'drugProductionScreen' #ref to ScreenManager

##########################
# Drug Production Screen #
##########################

<DrugProductionScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    DfltButton:
        text: 'Crack\n Costs: 1500\u20ac'
        pos_hint: {'x':.1, 'y': .20}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Crack')

    DfltButton:
        text: 'Amphetamine\n Costs: 7000\u20ac'
        pos_hint: {'x':.4, 'y': .20}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Amphetamine')

    DfltButton:
        text: 'Ketamine\n Costs: 6000\u20ac'
        pos_hint: {'x':.7, 'y': .20}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Ketamine')

    DfltButton:
        text: 'Ecstasy\n Costs: 3500\u20ac'
        pos_hint: {'x':.1, 'y': .45}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Ecstasy')

    DfltButton:
        text: 'LSD\n Costs: 3000\u20ac'
        pos_hint: {'x':.4, 'y': .45}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('LSD')

    DfltButton:
        text: 'Cocaine\n Costs: 2500\u20ac'
        pos_hint: {'x':.7, 'y': .45}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Cocaine')

    DfltButton:
        text: 'Marijuana\n Costs: 1000\u20ac'
        pos_hint: {'x':.1, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Marijuana')

    DfltButton:
        text: 'Shrooms \n Costs: 2000\u20ac'
        pos_hint: {'x':.4, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Shrooms')

    DfltButton:
        text: 'Heroin \n Costs: 5000\u20ac'
        pos_hint: {'x':.7, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Heroin')



#############################
# Organic Production Screen #
#############################

<OrganicProductionScreen@Screen>
    size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    Bottom_Menu:
        size_hint: 1, 1

    DfltButton:
        text: 'Shoulders\n Costs:3000\u20ac'
        pos_hint: {'x':.1, 'y': .20}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Shoulders')

    DfltButton:
        text: 'Pair of Eyeballs\n Costs:4000\u20ac'
        pos_hint: {'x':.4, 'y': .20}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Pairs of Eyeballs')

    DfltButton:
        text: 'Skull with Teeth\n Costs:5000\u20ac'
        pos_hint: {'x':.7, 'y': .20}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Skulls with Teeth')

    DfltButton:
        text: 'Small Intestine\n Costs:12000\u20ac'
        pos_hint: {'x':.1, 'y': .45}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Small Intestines')

    DfltButton:
        text: 'Spleen\n Costs:6000\u20ac'
        pos_hint: {'x':.4, 'y': .45}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Spleens')

    DfltButton:
        text: 'Liver\n Costs:10000\u20ac'
        pos_hint: {'x':.7, 'y': .45}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Livers')

    DfltButton:
        text: 'Stomach\n Costs:7000\u20ac'
        pos_hint: {'x':.1, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Stomachs')

    DfltButton:
        text: 'Heart\n Costs:14000\u20ac'
        pos_hint: {'x':.4, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Hearts')

    DfltButton:
        text: 'Kidney\n Costs:26000\u20ac'
        pos_hint: {'x':.7, 'y': .7}
        size_hint: 0.2, 0.2
        on_release: app.getProduct('Kidneys')

##########################
#    Research Screen     #
##########################

<ResearchScreen@Screen>
    size_hint: 1, 1
    Image:
        source: 'tiled.png'
    DfltButton:
        text: 'Upgrade_1-2'
        pos_hint: {'x':1.2, 'y': 1.2}
        id: up1-2
    DfltButton:
        text: 'Ecstacy\n 0\u20ac'
        pos_hint: {'x':.275, 'y': .2}
        id: up4-1
    DfltButton:
        text: 'LSD\n 10000\u20ac'
        pos_hint: {'x':.275, 'y': .7}
        id: up1-1
        #on_press: parent.up1-2.pos_hint{'x':.225, 'y': .7.5}
    DfltButton:
        text: 'Marijuana\n 20\u20ac'
        pos_hint: {'x':.2, 'y': .35}
        id: up2-1
    DfltButton:
        text: 'Cocaine\n 100\u20ac'
        pos_hint: {'x':.2, 'y': .55}
        id: up3-1
    DfltButton:
        text: 'Ketamine\n 1000\u20ac'
        pos_hint: {'x':.7, 'y': .35}
        id: up7-1
    DfltButton:
        text: 'Heroin\n 200\u20ac'
        pos_hint: {'x':.7, 'y': .55}
        id: up6-1
    DfltButton:
        text: 'Shrooms\n 50\u20ac'
        pos_hint: {'x':.625, 'y': .2}
        id: up8-1
    DfltButton:
        text: 'Antidepressants\n 200\u20ac'
        size_hint: .14, .1
        pos_hint: {'x':.625, 'y': .7}
        id: up5-1
    DfltButton:
        text: 'Amphetamine\n 150\u20ac'
        size_hint: .14, .1
        pos_hint: {'x':.45, 'y': .1}
        id: OP1-1
    DfltButton:
        text: 'Connection lvl 2 \n 2000\u20ac'
        pos_hint: {'x':.45, 'y': .6}
        id: OP2-8
        on_release: app.upgradeConn(2,2000,1.05,1.05)
    DfltButton:
        text: 'Connection lvl 3 \n 4000\u20ac'
        pos_hint: {'x':.45, 'y': .4}
        id: OP2-8
        on_release: app.upgradeConn(3,4000,1.1,1.1)
    DfltButton:
        text: 'Steroids 4 workers\n 2000\u20ac'
        pos_hint: {'x':.45, 'y': .8}
        on_release: app.ModDisable(0.05,2000)
        disabled: app.boolOFF
        id: OP2-1
    DfltButton:
        id: BackToMap
        text: '<<<'
        pos_hint: {'x':.0, 'y': .0}
        on_release: self.parent.parent.current = 'mapScreen' #ref to ScreenManager
        #Or whatever is the previous screen

    Stats_Bar:
        size_hint: 1, 1

##########################
#    Warehouse Screen    #
##########################

<WarehouseScreen@Screen>
    size_hint: 1, 1
    Bottom_Menu:
        size_hint: 1, 1

    Stats_Bar:
        size_hint: 1, 1

    DfltLabel:
        text: 'Drugs:'
        size_hint: 0.25, 0.05
        pos_hint: {'x':.05, 'y': .90}

    DfltLabel:
        text: app.marijuanaString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .85}

    DfltLabel:
        text: app.shroomsString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .80}

    DfltLabel:
        text: app.heroinString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .75}

    DfltLabel:
        text: app.cocaineString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .70}

    DfltLabel:
        text: app.LSDString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .65}

    DfltLabel:
        text: app.ecstasyString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .60}

    DfltLabel:
        text: app.ketamineString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .55}

    DfltLabel:
        text: app.amphetamineString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .50}

    DfltLabel:
        text: app.crackString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.1, 'y': .45}

    DfltLabel:
        text: 'Organs:'
        size_hint: 0.25, 0.05
        pos_hint: {'x':.35, 'y': .90}

    DfltLabel:
        text: app.stomachsString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .85}

    DfltLabel:
        text: app.kidneysString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .80}

    DfltLabel:
        text: app.heartsString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .75}

    DfltLabel:
        text: app.liversString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .70}

    DfltLabel:
        text: app.spleensString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .65}

    DfltLabel:
        text: app.smallIntestinesString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .60}

    DfltLabel:
        text: app.skullsWithTeethString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .55}

    DfltLabel:
        text: app.pairsOfEyeballsString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .5}

    DfltLabel:
        text: app.shouldersString
        size_hint: 0.25, 0.05
        pos_hint: {'x':.4, 'y': .45}

##########################
#    Startup Screen      #
##########################

<StartupScreen@Screen>
    size_hint: 1, 1

    DfltLabel:
        text: "Choose your start location"
        size_hint: 1, 0.03
        pos_hint: {'x':.0, 'y': .95}
        halign: 'center'

    ToggleButton:
        text: 'Chicago'
        size_hint: 1, 0.03
        pos_hint: {'x':.0, 'y': .92}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Mexico'
        size_hint: 1, 0.03
        pos_hint: {'x':.0, 'y': .89}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Bogota'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .86}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Rio De Janeiro'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .83}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'London'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .80}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Hamburg'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .77}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Moscow'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .74}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Amsterdam'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .71}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Melbourne'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .68}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Dzakarta'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .65}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Tokyo'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .62}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Kyoto'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .59}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Seoul'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .56}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Shanghai'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .53}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Bankok'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .50}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Hyderabado'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .47}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Islamabad'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .44}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Kinshasa'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .41}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Egypt'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .38}
        group: "cities"
        on_release: app.select()

    ToggleButton:
        text: 'Ankara'
        size_hint: 1, .03
        pos_hint: {'x':.0, 'y': .35}
        group: "cities"
        on_release: app.select()

    DfltButton:
        text:"Start Game"
        size_hint: 0.3, 0.2
        pos_hint: {'x':.7, 'y': .0}
        disabled: app.cityNotSelected
        on_release: root.parent.current = 'mapScreen'


##############################
#    Global Prices Screen    #
##############################

<PricesScreen@Screen>
    size_hint: 1, 1
    MasterDetailView:
        size_hint: 1, 1
        DrugDetailView:
            size_hint: 1, 1


    DfltButton:
        id: BackToMap
        text: '<<<'
        pos_hint: {'x':.0, 'y': .0}
        on_release: self.parent.parent.current = 'mapScreen' #ref to ScreenManager
    DfltButton:
        id: Sell
        text: 'SELL!'
        pos_hint: {'x':.7, 'y': .4}
        on_release: app.SellAll()



#################################
# Root Widget & ScreenManager   #
#################################

<RootWidget>
    size_hint: 1, 1
    ScreenManager:
        transition: SlideTransition()
        StartupScreen:
            name: 'startupScreen'
        MapScreen:
            name: 'mapScreen'
        StationsScreen:
            name: 'stationsScreen'
        ConnectionsScreen:
            name: 'connectionsScreen'
        Connections2Screen:
            name: 'connections2Screen'
        Connections3Screen:
            name: 'connections3Screen'
        ResearchScreen
            name: 'researchScreen'
        FinancesScreen:
            name: 'financesScreen'
        ProductionScreen:
            name: 'productionScreen'
        DrugProductionScreen:
            name: 'drugProductionScreen'
        OrganicProductionScreen:
            name: 'organicProductionScreen'
        WarehouseScreen:
            name: 'warehouseScreen'
        PricesScreen
            name: 'pricesScreen'

